React로 상태 관리를 하다 보면, 배열에서 특정 항목을 삭제해야 하는 경우가 정말 많다.

이때 자바스크립트 개발자라면 흔히 splice()를 떠올릴 텐데,

**그대로 쓰면 리액트에서는 문제가 생길 수 있다고 한다.**

이 글에서는 splice()와 filter()의 차이점,

그리고 실제 React에서 배열 상태를 업데이트할 때 **왜 filter가 더 자주 쓰이는지**를 예제와 함께 정리해보겠다.

---

#### **splice()와 filter()는 무엇인가?**

**splice() – 배열에서 요소를 잘라내는 도구**

\- 기존 배열에서 **요소를 삭제하거나 대체**할 수 있음

\- **원본 배열을 직접 수정**함 (mutable)

```
const arr = [1, 2, 3, 4];
arr.splice(1, 1); // 인덱스 1부터 1개 삭제
console.log(arr); // [1, 3, 4]
```

**filter() – 조건에 맞는 요소만 골라 새 배열로 반환**

\- 기존 배열에서 **필요한 요소만 남김**

\- **원본 배열은 건드리지 않음** (immutable)

```
const arr = [1, 2, 3, 4];
const newArr = arr.filter((num) => num !== 2);
console.log(newArr); // [1, 3, 4]
```

---

#### **splice()는 왜 리액트에서 조심해야 하나?**

React에서 상태(state)를 바꿀 때는 **원본을 직접 수정하면 안 된다.**

왜냐하면 React는 이전 상태와 새로운 상태를 **비교(diff)** 해서 리렌더링을 결정하는데,

만약 원본 배열이 직접 바뀌어버리면, **변화 감지를 제대로 못할 수도 있기 때문.  
  
**

```
// 위험한 예
const deleteItem = () => {
  title.splice(1, 1);  // 원본 title 배열을 직접 수정
  setTitle(title);     // 수정된 같은 배열을 다시 전달
};
```

이렇게 하면 리렌더링이 일어나지 않거나, 예기치 않은 버그가 생길 수 있다.

---

**그렇다면 안전하게 splice()를 쓰는 방법은?**

```
const deleteItem = (i) => {
  const newTitle = [...title];  // 원본 복사
  newTitle.splice(i, 1);        // 복사본 수정
  setTitle(newTitle);           // 안전하게 상태 업데이트
};
```

💡 원본은 절대 건들지 말고 **복사 후 수정**!

---

#### **그럼 왜 실무에서는 filter()를 더 많이 쓸까?  
**

splice()도 안전하게 복사해서 쓸 수 있지만,

**filter()는 아예 원본을 건드리지 않고 새 배열을 만들기 때문에 더 직관적이고 안전하다.**

특히 **조건 기반 삭제**나 **특정 인덱스를 제외**하고 싶을 때 자주 쓴다고 한다.  
  

---

현재 리액트를 공부 중에 간단한 블로그를 만들고 있는데 블로그 게시물을 삭제하는 과정에서 예시를 들어보자면  
  

```
function App() {
  const [posts, setPosts] = useState(["React 배우기", "JS 공부", "GitHub 정리"]);

  const deletePost = (i) => {
    setPosts(posts.filter((_, index) => index !== i));
  };

  return (
    <div>
      {posts.map((post, i) => (
        <div key={i}>
          <h3>{post}</h3>
          <button onClick={() => deletePost(i)}>삭제</button>
        </div>
      ))}
    </div>
  );
}
```

```
posts.filter((_, index) => index !== i);
```

  
\- posts 배열에서 Index가 **i 가 아닌 항목만 남긴다**는 뜻이다.

\- filter()의 첫 번째 매개변수는 요소 값이지만, 우리가 안 쓰니까 \_로 이름 붙인 것이다.  
  

---

#### **📌 비교표**

| **항목** | **splice()** | **filter()** |
| --- | --- | --- |
| 원본 배열 수정 | ✅ | ❌ |
| 불변성 유지 | 복사를 안 하면 깨짐 | ✅ |
| 반환값 | 삭제된 항목 배열 | 조건을 만족한 새 배열 |
| 사용 편의성 | 약간 복잡 | 간단하고 직관적 |
| React에서 추천 | 복사 후 사용 | 추천 |

  
**📌 상황별**

| 상황 | 방법 |
| --- | --- |
| 특정 인덱스 하나 삭제 | filter() or 복사 후 splice() |
| 여러 개의 항목 삭제 | filter() |
| 조건에 따라 삭제 | filter() (ex. id가 1인 항목 제외) |
| 항목을 추가/교체 | splice()도 유용 (단, 복사 필수!) |

---

**🖥️ 마무리하며**

처음에는 splice()가 익숙해서 계속 쓰게 되지만,

React에서 상태를 다룰 때는 **불변성**을 지켜야 버그 없이 동작할 수 있다.

그러니 이제부터는 배열에서 항목을 삭제할 때 **filter()를 기본으로 생각해봐야겠다!!**